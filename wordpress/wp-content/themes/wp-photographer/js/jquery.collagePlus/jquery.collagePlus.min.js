!function(t){t.fn.collagePlus=function(e){function a(e,a,l,d){for(var n=l.padding*(e.length-1)+e.length*e[0][3],r=l.albumWidth-n,h=r/(a-n),o=n,s=a<l.albumWidth,g=0;g<e.length;g++){var f=t(e[g][0]),c=Math.floor(e[g][1]*h),u=Math.floor(e[g][2]*h),m=!!(g<e.length-1);l.allowPartialLastRow===!0&&s===!0&&(c=e[g][1],u=e[g][2]),o+=c,!m&&o<l.albumWidth&&(l.allowPartialLastRow===!0&&s===!0?c=c:c+=l.albumWidth-o),c--;var p=f.is("img")?f:f.find("img");p.width(c),f.is("img")||f.width(c+e[g][3]),p.height(u),f.is("img")||f.height(u+e[g][4]),i(f,m,l),p.one("load",function(t){return function(){if("default"==l.effect)t.animate({opacity:"1"},{duration:l.fadeSpeed});else{if("vertical"==l.direction)var e=d<=10?d:10;else var e=g<=9?g+1:10;t.removeClass(function(t,e){return(e.match(/\beffect-\S+/g)||[]).join(" ")}),t.addClass(l.effect),t.addClass("effect-duration-"+e)}}}(f)).each(function(){this.complete&&t(this).trigger("load")})}}function i(t,e,a){var i={"margin-bottom":a.padding+"px","margin-right":e?a.padding+"px":"0px",display:a.display,"vertical-align":"bottom",overflow:"hidden"};return t.css(i)}function l(e){$img=t(e);var a=new Array;return a.w=parseFloat($img.css("border-left-width"))+parseFloat($img.css("border-right-width")),a.h=parseFloat($img.css("border-top-width"))+parseFloat($img.css("border-bottom-width")),a}return this.each(function(){var i=0,d=[],n=1,r=t(this);t.fn.collagePlus.defaults.albumWidth=r.width(),t.fn.collagePlus.defaults.padding=parseFloat(r.css("padding-left")),t.fn.collagePlus.defaults.images=r.children();var h=t.extend({},t.fn.collagePlus.defaults,e);h.images.each(function(e){var r=t(this),o=r.is("img")?r:t(this).find("img"),s="undefined"!=typeof o.data("width")?o.data("width"):o.width(),g="undefined"!=typeof o.data("height")?o.data("height"):o.height(),f=l(o);o.data("width",s),o.data("height",g);var c=Math.ceil(s/g*h.targetHeight),u=Math.ceil(h.targetHeight);d.push([this,c,u,f.w,f.h]),i+=c+f.w+h.padding,i>h.albumWidth&&0!=d.length&&(a(d,i-h.padding,h,n),delete i,delete d,i=0,d=[],n+=1),h.images.length-1==e&&0!=d.length&&(a(d,i,h,n),delete i,delete d,i=0,d=[],n+=1)})})},t.fn.collagePlus.defaults={targetHeight:400,fadeSpeed:"fast",display:"inline-block",effect:"default",direction:"vertical",allowPartialLastRow:!1}}(jQuery);
//# sourceMappingURL=../maps/jquery.collagePlus/jquery.collagePlus.min.js.map

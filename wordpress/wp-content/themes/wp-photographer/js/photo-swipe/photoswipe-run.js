!function(t){"use strict";jQuery(document).ready(function(t){function e(t){for(var e=window.location.hash.substring(1),r=e.split("&"),n=0;n<r.length;n++){var i=r[n].split("=");if(i[0]==t)return i[1]}}var r=function(){var t=window.location.hash.substring(1),e={};if(t.length<5)return e;for(var r=t.split("&"),n=0;n<r.length;n++)if(r[n]){var i=r[n].split("=");i.length<2||(e[i[0]]=i[1])}return e.hasOwnProperty("pid")?(e.pid=parseInt(e.pid,10)-1,e.pid>=0||(e.pid=0),e):e},n=function(t){for(var t,e,r,n,i=t,a=i.childNodes,o=a.length,l=[],s=0;s<o;s++)if(t=a[s],1===t.nodeType){e=t.children,r=t.getAttribute("data-size").split("x"),n={src:t.getAttribute("href"),w:parseInt(r[0],10),h:parseInt(r[1],10),attachmentURL:null===t.getAttribute("data-attachment-page")?window.location.href:t.getAttribute("data-attachment-page")};var u=t.getAttribute("data-href");u?n.src=u:(t.setAttribute("href","javascript:void"),t.setAttribute("data-href",n.src)),n.el=t,e.length>0&&(n.msrc=e[0].getAttribute("src"),e.length>1&&(n.title=e[1].innerHTML));var c=t.getAttribute("data-med");c&&(r=t.getAttribute("data-med-size").split("x"),n.m={src:c,w:parseInt(r[0],10),h:parseInt(r[1],10)}),n.o={src:n.src,w:n.w,h:n.h},l.push(n)}return l},i=function(t,e,r,i){var a,o=n(r),l=(/(iPad|iPhone|iPod)/g.test(navigator.userAgent),{index:t,galleryUID:i,getThumbBoundsFn:function(t){var e=o[t].el;if(e){e=e.children[0];var r=window.pageYOffset||document.documentElement.scrollTop,n=e.getBoundingClientRect();return{x:n.left,y:n.top+r,w:n.width}}},addCaptionHTMLFn:function(t,e,r){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerText="",!1)}});l.shareEl=!("false"===r.getAttribute("data-share")),l.bgOpacity=r.getAttribute("data-bg-opacity"),l.fullscreenEl=!("false"===r.getAttribute("data-fullscreen")),l.getPageURLForShare=function(t){return pswp.currItem.attachmentURL};var s=r.getAttribute("data-gallery-style");"minimal"===s&&(l.mainClass="pswp--minimal--dark",l.barsSize={top:0,bottom:0},l.tapToClose=!0,l.tapToToggleControls=!1,l.spacing=0),e&&(l.showAnimationDuration=0),a=new PhotoSwipe(document.querySelectorAll(".pswp")[0],PhotoSwipeUI_Default,o,l),a.listen("gettingData",function(t,e){screen.width>767?(e.src=e.o.src,e.w=e.o.w,e.h=e.o.h):(e.src=e.m.src,e.w=e.m.w,e.h=e.m.h)}),a.init(),window.pswp=a},a=t(".pw-gallery");a.each(function(t,e){var r=this,n=function o(t,e){return t&&(e(t)?t:o(t.parentNode,e))},a=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var a=e.target||e.srcElement,o=n(a,function(t){return"A"===t.tagName});if(o){for(var l,s=o.parentNode.childNodes,u=s.length,c=0,d=0;d<u;d++)if(1===s[d].nodeType){if(s[d]===o){l=c;break}c++}if(l>=0){o.children[0];i(l,!1,r,t+1)}return!1}};"undefined"!=typeof r&&null!=r&&(r.onclick=a)});var o=r();if(o.pid>=0){var l=parseInt(e("gid")),s=document.querySelectorAll(".pw-gallery")[l-1];i(o.pid,!0,s,l)}})}(jQuery);
//# sourceMappingURL=../maps/photo-swipe/photoswipe-run.js.map
